{"version":3,"sources":["GameEventTransmitter.js"],"names":["Object","defineProperty","exports","value","GameEventTransmitterClass","listeners","Map","globalListeners","Array","get","_instance","enumerable","configurable","prototype","on","set","name","off","listenersName","delete","emit","event","forEach","onEvent","onGlobal","listener","push","offGlobal","number","indexOf","slice","GameEventTransmitter","instance"],"mappings":";;;;AAAA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAIC,4BAA6B,YAAY;AACzC,aAASA,yBAAT,GAAqC;AACjC,aAAKC,SAAL,GAAiB,IAAIC,GAAJ,EAAjB;AACA,aAAKC,eAAL,GAAuB,IAAIC,KAAJ,EAAvB;AACH;AACDR,WAAOC,cAAP,CAAsBG,yBAAtB,EAAiD,UAAjD,EAA6D;AACzDK,aAAK,eAAY;AACb,gBAAI,KAAKC,SAAL,IAAkB,IAAtB,EAA4B;AACxB,qBAAKA,SAAL,GAAiB,IAAIN,yBAAJ,EAAjB;AACH;AACD,mBAAO,KAAKM,SAAZ;AACH,SANwD;AAOzDC,oBAAY,IAP6C;AAQzDC,sBAAc;AAR2C,KAA7D;AAUAR,8BAA0BS,SAA1B,CAAoCC,EAApC,GAAyC,UAAUT,SAAV,EAAqB;AAC1D,aAAKA,SAAL,CAAeU,GAAf,CAAmBV,UAAUW,IAA7B,EAAmCX,SAAnC;AACH,KAFD;AAGAD,8BAA0BS,SAA1B,CAAoCI,GAApC,GAA0C,UAAUC,aAAV,EAAyB;AAC/D,aAAKb,SAAL,CAAec,MAAf,CAAsBD,aAAtB;AACH,KAFD;AAGAd,8BAA0BS,SAA1B,CAAoCO,IAApC,GAA2C,UAAUC,KAAV,EAAiB;AACxD,aAAKhB,SAAL,CAAeiB,OAAf,CAAuB,UAAUnB,KAAV,EAAiB;AAAE,mBAAOA,MAAMiB,IAAN,CAAWC,KAAX,CAAP;AAA2B,SAArE;AACA,aAAKd,eAAL,CAAqBe,OAArB,CAA6B,UAAUnB,KAAV,EAAiB;AAAE,mBAAOA,MAAMoB,OAAN,CAAcF,KAAd,CAAP;AAA8B,SAA9E;AACH,KAHD;AAIAjB,8BAA0BS,SAA1B,CAAoCW,QAApC,GAA+C,UAAUC,QAAV,EAAoB;AAC/D,aAAKlB,eAAL,CAAqBmB,IAArB,CAA0BD,QAA1B;AACH,KAFD;AAGArB,8BAA0BS,SAA1B,CAAoCc,SAApC,GAAgD,UAAUF,QAAV,EAAoB;AAChE,YAAIG,SAAS,KAAKrB,eAAL,CAAqBsB,OAArB,CAA6BJ,QAA7B,CAAb;AACA,YAAIpB,YAAY,KAAKE,eAAL,CAAqBuB,KAArB,CAA2BF,MAA3B,EAAmCA,SAAS,CAA5C,CAAhB;AACA,aAAKrB,eAAL,GAAuBF,SAAvB;AACH,KAJD;AAKA,WAAOD,yBAAP;AACH,CAlCgC,EAAjC;AAmCAF,QAAQ6B,oBAAR,GAA+B3B,0BAA0B4B,QAAzD","file":"GameEventTransmitter.js","sourceRoot":"../../../../../../../assets/Script/src/core/event","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GameEventTransmitterClass = (function () {\n    function GameEventTransmitterClass() {\n        this.listeners = new Map();\n        this.globalListeners = new Array();\n    }\n    Object.defineProperty(GameEventTransmitterClass, \"instance\", {\n        get: function () {\n            if (this._instance == null) {\n                this._instance = new GameEventTransmitterClass();\n            }\n            return this._instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GameEventTransmitterClass.prototype.on = function (listeners) {\n        this.listeners.set(listeners.name, listeners);\n    };\n    GameEventTransmitterClass.prototype.off = function (listenersName) {\n        this.listeners.delete(listenersName);\n    };\n    GameEventTransmitterClass.prototype.emit = function (event) {\n        this.listeners.forEach(function (value) { return value.emit(event); });\n        this.globalListeners.forEach(function (value) { return value.onEvent(event); });\n    };\n    GameEventTransmitterClass.prototype.onGlobal = function (listener) {\n        this.globalListeners.push(listener);\n    };\n    GameEventTransmitterClass.prototype.offGlobal = function (listener) {\n        var number = this.globalListeners.indexOf(listener);\n        var listeners = this.globalListeners.slice(number, number + 1);\n        this.globalListeners = listeners;\n    };\n    return GameEventTransmitterClass;\n}());\nexports.GameEventTransmitter = GameEventTransmitterClass.instance;\n"]}