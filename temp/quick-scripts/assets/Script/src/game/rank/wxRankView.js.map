{"version":3,"sources":["wxRankView.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","exports","value","GameEngine_1","require","GameDataManager_1","GameAudio_1","GameSceneHepler_1","_a","cc","_decorator","ccclass","property","wxRankView","_super","_this","call","btn_back","btn_invite","tex","onLoad","node","on","Node","EventType","TOUCH_END","onTouchEventListener","start","Texture2D","console","log","wx","getUserInfo","success","event","getOpenDataContext","postMessage","EventData","onDestroy","eventType","type","eventName","_name","GameAudio","playBtnEffect","GameDataManager","gameData","refuseData","GameEngine","changeScene","GameSceneHepler","LOADING","shareGroup","shareAppMessage","title","query","userData","playerId","imageUrl","Button","Component"],"mappings":"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","file":"wxRankView.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\src\\game\\rank","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GameEngine_1 = require(\"../../game/common/GameEngine\");\r\nvar GameDataManager_1 = require(\"../../game/common/data/GameDataManager\");\r\nvar GameAudio_1 = require(\"../common/helper/GameAudio\");\r\nvar GameSceneHepler_1 = require(\"../common/helper/GameSceneHepler\");\r\nvar _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;\r\nvar wxRankView = (function (_super) {\r\n    __extends(wxRankView, _super);\r\n    function wxRankView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.btn_back = null;\r\n        _this.btn_invite = null;\r\n        _this.tex = null;\r\n        return _this;\r\n    }\r\n    wxRankView.prototype.onLoad = function () {\r\n        this.btn_back.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEventListener);\r\n        this.btn_invite.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEventListener);\r\n    };\r\n    wxRankView.prototype.start = function () {\r\n        this.tex = new cc.Texture2D();\r\n        console.log(\"send\");\r\n        wx.getUserInfo({\r\n            success: function (event) {\r\n                console.log(event);\r\n            }\r\n        });\r\n        wx.getOpenDataContext().postMessage({\r\n            EventType: \"0\",\r\n            EventData: \"\"\r\n        });\r\n    };\r\n    wxRankView.prototype.onDestroy = function () {\r\n        wx.getOpenDataContext().postMessage({\r\n            EventType: \"3\",\r\n            EventData: \"\"\r\n        });\r\n    };\r\n    wxRankView.prototype.onTouchEventListener = function (event) {\r\n        var eventType = event.type;\r\n        var eventName = event.target._name;\r\n        GameAudio_1.GameAudio.playBtnEffect();\r\n        if (eventType == \"touchend\") {\r\n            switch (eventName) {\r\n                case \"btn_back\":\r\n                    GameAudio_1.GameAudio.playBtnEffect();\r\n                    GameDataManager_1.GameDataManager.gameData.refuseData();\r\n                    GameEngine_1.GameEngine.changeScene(GameSceneHepler_1.GameSceneHepler.LOADING);\r\n                    break;\r\n                case \"btn_invite\":\r\n                    this.shareGroup();\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    wxRankView.prototype.shareGroup = function () {\r\n        wx.shareAppMessage({\r\n            title: \"汉语六级你能考多少？试试就知道!\",\r\n            query: \"sharePlayerId=\" + GameDataManager_1.GameDataManager.userData.playerId,\r\n            imageUrl: \"https://liubowen.top/dzk-res/share/70001.png\",\r\n            success: function (event) {\r\n                console.log(\"微信分享返回数据 =>\", event);\r\n            }\r\n        });\r\n    };\r\n    __decorate([\r\n        property(cc.Button)\r\n    ], wxRankView.prototype, \"btn_back\", void 0);\r\n    __decorate([\r\n        property(cc.Button)\r\n    ], wxRankView.prototype, \"btn_invite\", void 0);\r\n    wxRankView = __decorate([\r\n        ccclass\r\n    ], wxRankView);\r\n    return wxRankView;\r\n}(cc.Component));\r\nexports.wxRankView = wxRankView;\r\n"]}