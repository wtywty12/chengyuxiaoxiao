{"version":3,"sources":["GameData.js"],"names":["Object","defineProperty","exports","value","ConfigManager_1","require","StorageInfo_1","GameData","_level","_tempLevel","_score","_tempScore","_totalGameTime","_gametime","_gridEffectTime","_gridWidth","_gridHeight","_redPackTimes","_lastTime","rightTimes","prototype","refuseData","gameStart","addlevel","setScore","playTimes","StorageInfo","getPlayTimes","score","Math","floor","sqrt","setTopScore","addgametime","levelsInfo","ConfigManager","levelsJsonMap","get","addtime","_playerId","set","enumerable","configurable","_totalTime","times","_rightTimes"],"mappings":"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","file":"GameData.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\src\\game\\common\\data","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ConfigManager_1 = require(\"../ConfigManager\");\r\nvar StorageInfo_1 = require(\"./StorageInfo\");\r\nvar GameData = (function () {\r\n    function GameData() {\r\n        this._level = 1;\r\n        this._tempLevel = 1;\r\n        this._score = 0;\r\n        this._tempScore = 0;\r\n        this._totalGameTime = 30;\r\n        this._gametime = this._totalGameTime;\r\n        this._gridEffectTime = 0.5;\r\n        this._gridWidth = 109;\r\n        this._gridHeight = 109;\r\n        this._redPackTimes = 3;\r\n        this._lastTime = 0;\r\n        this.rightTimes = 0;\r\n    }\r\n    GameData.prototype.refuseData = function () {\r\n        this._tempLevel = this._level;\r\n        this._level = 1;\r\n        this._tempScore = this._score;\r\n        this._score = 0;\r\n        this._lastTime = 0;\r\n        this._gametime = this._totalGameTime;\r\n        this.rightTimes = 0;\r\n    };\r\n    GameData.prototype.gameStart = function () {\r\n        this._score = 0;\r\n        this._gametime = this._totalGameTime;\r\n    };\r\n    GameData.prototype.addlevel = function () {\r\n        this._level += 1;\r\n    };\r\n    GameData.prototype.setScore = function () {\r\n        var playTimes = StorageInfo_1.StorageInfo.getPlayTimes();\r\n        this.score = Math.floor(this.rightTimes * 4 * Math.sqrt(playTimes));\r\n        StorageInfo_1.StorageInfo.setTopScore(this._score);\r\n    };\r\n    GameData.prototype.addgametime = function () {\r\n        var levelsInfo = ConfigManager_1.ConfigManager.levelsJsonMap.get(this._level);\r\n        var value = levelsInfo.addtime || 0;\r\n        this._gametime += value;\r\n    };\r\n    Object.defineProperty(GameData.prototype, \"playerId\", {\r\n        get: function () {\r\n            return this._playerId;\r\n        },\r\n        set: function (_playerId) {\r\n            this._playerId = _playerId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"level\", {\r\n        get: function () {\r\n            return this._level;\r\n        },\r\n        set: function (_level) {\r\n            this._level = _level;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"templevel\", {\r\n        get: function () {\r\n            return this._tempLevel;\r\n        },\r\n        set: function (_level) {\r\n            this._tempLevel = _level;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"score\", {\r\n        get: function () {\r\n            return this._score;\r\n        },\r\n        set: function (_score) {\r\n            this._score = _score;\r\n            StorageInfo_1.StorageInfo.setTopScore(_score);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"tempScore\", {\r\n        get: function () {\r\n            return this._tempScore;\r\n        },\r\n        set: function (_score) {\r\n            this._tempScore = _score;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"gametime\", {\r\n        get: function () {\r\n            return this._gametime;\r\n        },\r\n        set: function (_gametime) {\r\n            this._gametime = _gametime;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"totalGameTime\", {\r\n        get: function () {\r\n            return this._totalGameTime;\r\n        },\r\n        set: function (_totalTime) {\r\n            this._totalGameTime = _totalTime;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"gridEffectTime\", {\r\n        get: function () {\r\n            return this._gridEffectTime;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"gridGridWidth\", {\r\n        get: function () {\r\n            return this._gridWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"gridGridHeight\", {\r\n        get: function () {\r\n            return this._gridHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"redPackTimes\", {\r\n        get: function () {\r\n            return this._redPackTimes;\r\n        },\r\n        set: function (times) {\r\n            this._redPackTimes = times;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"lastTime\", {\r\n        get: function () {\r\n            return this._lastTime;\r\n        },\r\n        set: function (times) {\r\n            this._lastTime = times;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameData.prototype, \"rightTimes\", {\r\n        get: function () {\r\n            return this._rightTimes;\r\n        },\r\n        set: function (times) {\r\n            this._rightTimes = times;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GameData;\r\n}());\r\nexports.GameData = GameData;\r\n"]}