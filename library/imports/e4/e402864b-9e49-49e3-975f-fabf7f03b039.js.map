{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\src\\core\\common/assets\\Script\\src\\core\\common\\ResourcesManager.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","StringUtils_1","require","ResourcesManagerClass","sounds","Map","images","prefabs","get","_instance","enumerable","configurable","prototype","getSound","name","String","trim","getImage","getPrefab","load","_a","loadSounds","loadImages","loadSpriteAtlas","loadPrefabs","_this","fulfill","cc","loader","loadResDir","AudioClip","error","datas","urls","i","name_1","StringUtils","getName","data","log","set","SpriteFrame","name_2","SpriteAtlas","name_3","Prefab","name_4","ResourcesManager","instance"],"mappings":"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","file":"ResourcesManager.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\src\\core\\common","sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar StringUtils_1 = require(\"../../utils/StringUtils\");\r\nvar ResourcesManagerClass = (function () {\r\n    function ResourcesManagerClass() {\r\n        this.sounds = new Map();\r\n        this.images = new Map();\r\n        this.prefabs = new Map();\r\n    }\r\n    Object.defineProperty(ResourcesManagerClass, \"instance\", {\r\n        get: function () {\r\n            if (this._instance == null) {\r\n                this._instance = new ResourcesManagerClass();\r\n            }\r\n            return this._instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ResourcesManagerClass.prototype.getSound = function (name) {\r\n        return this.sounds.get(String(name).trim());\r\n    };\r\n    ResourcesManagerClass.prototype.getImage = function (name) {\r\n        return this.images.get(String(name).trim());\r\n    };\r\n    ResourcesManagerClass.prototype.getPrefab = function (name) {\r\n        return this.prefabs.get(String(name).trim());\r\n    };\r\n    ResourcesManagerClass.prototype.load = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.loadSounds()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.loadImages()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [4, this.loadSpriteAtlas()];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [4, this.loadPrefabs()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ResourcesManagerClass.prototype.loadSounds = function () {\r\n        var _this = this;\r\n        return new Promise(function (fulfill, reject) {\r\n            cc.loader.loadResDir(\"sounds\", cc.AudioClip, function (error, datas, urls) {\r\n                if (error) {\r\n                    cc.error(error);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < datas.length; i++) {\r\n                    var name_1 = StringUtils_1.StringUtils.getName(urls[i]);\r\n                    var data = datas[i];\r\n                    cc.log(\"loadSounds -> name : \" + name_1 + \" , data :\", data);\r\n                    _this.sounds.set(name_1, data);\r\n                }\r\n                return fulfill();\r\n            });\r\n        });\r\n    };\r\n    ResourcesManagerClass.prototype.loadImages = function () {\r\n        var _this = this;\r\n        return new Promise(function (fulfill, reject) {\r\n            cc.loader.loadResDir(\"images\", cc.SpriteFrame, function (error, datas, urls) {\r\n                if (error) {\r\n                    cc.error(error);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < datas.length; i++) {\r\n                    var name_2 = StringUtils_1.StringUtils.getName(urls[i]);\r\n                    var data = datas[i];\r\n                    _this.images.set(name_2, data);\r\n                }\r\n                return fulfill();\r\n            });\r\n        });\r\n    };\r\n    ResourcesManagerClass.prototype.loadSpriteAtlas = function () {\r\n        var _this = this;\r\n        return new Promise(function (fulfill, reject) {\r\n            cc.loader.loadResDir(\"images\", cc.SpriteAtlas, function (error, datas, urls) {\r\n                if (error) {\r\n                    cc.error(error);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < datas.length; i++) {\r\n                    var name_3 = StringUtils_1.StringUtils.getName(urls[i]);\r\n                    var data = datas[i];\r\n                    if (data instanceof cc.SpriteFrame) {\r\n                        cc.log(\"loadSpriteAtlas -> name : \" + name_3 + \" , data : \" + data);\r\n                        _this.images.set(name_3, data);\r\n                    }\r\n                }\r\n                return fulfill();\r\n            });\r\n        });\r\n    };\r\n    ResourcesManagerClass.prototype.loadPrefabs = function () {\r\n        var _this = this;\r\n        return new Promise(function (fulfill, reject) {\r\n            cc.loader.loadResDir(\"prefabs\", cc.Prefab, function (error, datas, urls) {\r\n                if (error) {\r\n                    cc.error(error);\r\n                    return;\r\n                }\r\n                for (var i = 0; i < datas.length; i++) {\r\n                    var name_4 = StringUtils_1.StringUtils.getName(urls[i]);\r\n                    var data = datas[i];\r\n                    cc.log(\"loadPrefabs -> name : \" + name_4 + \" , data : \" + data);\r\n                    _this.prefabs.set(name_4, data);\r\n                }\r\n                return fulfill();\r\n            });\r\n        });\r\n    };\r\n    return ResourcesManagerClass;\r\n}());\r\nexports.ResourcesManager = ResourcesManagerClass.instance;\r\n"]}